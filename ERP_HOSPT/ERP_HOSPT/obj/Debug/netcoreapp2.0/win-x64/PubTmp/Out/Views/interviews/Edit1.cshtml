@model ERP_HOSPT.Data.interview

<style>
    .table-header {
        background-color: #4154f1;
        color: white;
    }
</style>

<div class="row">
    <div class="col-md-12">

        <br /><br /><br />

    </div>
    @if (ViewBag.stas != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            راحع طلبات الفحوصات
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">@*Default Table*@</h5>

            <!-- Default Table -->
            <table class="table table-hover">
                <thead class="table-header">
                    <tr>
                        <th scope="col">رقم الزيارة</th>
                        <th scope="col">اسم المريض</th>
                        <th scope="col">ملاحظه</th>
                        <th scope="col">الحالة</th>
                        <th scope="col">التاريخ</th>
                    </tr>
                </thead>
                <tbody>


                    @if (ViewBag.stas != null)
                    {
                        <tr class="table-danger">
                            <th scope="row"> @Model.interviewId</th>
                            <td>


                                <select asp-for="PatientId" class="form-select" aria-label="Default select example" asp-items="ViewBag.PatientId" disabled></select>

                            </td>
                            <td>  @Html.DisplayFor(modelItem => Model.inter_notes)</td>
                            <td>  @Html.DisplayFor(modelItem => Model.inter_type)</td>
                            <td>@Html.DisplayFor(modelItem => Model.inter_date)</td>
                        </tr>
                    }
                    else
                    {


                        <tr>
                            <th scope="row"> @Model.interviewId</th>
                            <td>


                                <select asp-for="PatientId" class="form-select" aria-label="Default select example" asp-items="ViewBag.PatientId" disabled></select>

                            </td>
                            <td>  @Html.DisplayFor(modelItem => Model.inter_notes)</td>
                            <td>  @Html.DisplayFor(modelItem => Model.inter_type)</td>
                            <td>@Html.DisplayFor(modelItem => Model.inter_date)</td>
                        </tr>



                    }

                </tbody>
            </table>
            <!-- End Default Table Example -->
        </div>
    </div>
    <div class="card">
        @if (ViewBag.analysis != null)
        {

            <div class="card-body">
                <h5 class="card-title">طلبات الفحص</h5>

                <!-- Table with stripped rows -->
                <table class="table table-hover">
                    <thead class="table-header">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">الطالب</th>
                            <th scope="col">الاسم</th>
                            <th scope="col">الحاله</th>
                            <th scope="col">التاريخ</th>
                            <th scope="col">معاينة</th>

                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var it in ViewBag.Analysis)
                        {
                            <tr>
                                <th scope="row">@it.R_analysisId</th>
                                <td>1</td>
                                <td>Designer</td>
                                @if (it.trboll == false && it.State1 == false)
                                {
                                    <td>في المختبر</td>
                                }
                                @if (it.trboll == false && it.State1 == true)
                                {
                                    <td>قادمه من المختبر</td>
                                }
                                @if (it.trboll == true)
                                {
                                    <td>تم</td>
                                }
                                <td>1</td>
                                <td>
                                    <button onclick="showInPopup1('@Url.Action("Invoice","interviews", new { id = it.R_analysisId },Context.Request.Scheme)','  الفحوصات')" class="ri-archive-fill">  </button>


                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
                <a type="button" asp-controller="interviews" asp-action="show" asp-route-id="@Model.interviewId"
                   class="btn btn-primary  col-3 "><i class="bi bi-printer"></i><strong>  طباعه الفحوصات  </strong></a>

            </div>
        }
        else if (ViewBag.Interview != null)
        {

            <div class="card-body">
                <h5 class="card-title">السجل الصحي</h5>

                <!-- Table with stripped rows -->
                <table class="table table-hover">
                    <thead class="table-header">
                        <tr>
                            <th scope="col">رقم الزياره</th>
                            <th scope="col">اسم المريض</th>
                            <th scope="col">ملاحظه</th>
                            <th scope="col">نوع المقابله</th>
                            <th scope="col">التاريخ</th>
                            <th scope="col"></th>

                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in ViewBag.Interview)
                        {
                            <tr>
                                <th scope="row">@item.interviewId</th>
                                <td>@Html.DisplayFor(modelItem => modelItem.patient.Patientname)</td>
                                <td>@item.inter_notes</td>
                                <td>@item.inter_type</td>
                                <td>@item.inter_date</td>
                                <td>
                                    <a class=" ri-article-line ri-archive-fill col-8 nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">السجل الصحي</a>

                                    <ul class="dropdown-menu col-5" aria-labelledby="navbarDropdown">
                                        <li>
                                            <a onclick="showInPopup1('@Url.Action("InvoiceDrug1", "interviews", new { id = item.interviewId }, Context.Request.Scheme)',' الادويه')" class="btn btn-outline-primary col-5">  <i class="fas fa-capsules" style="color:#4154f1;" aria-hidden="true"></i>  العلاجات</a>
                                        </li>
                                        <li>
                                            <a onclick="showInPopup1('@Url.Action("InvoiceDiagnosis1", "interviews", new { id = item.interviewId }, Context.Request.Scheme)',' التشخبص')" class="btn btn-outline-primary col-5">  <i class="fas fa-prescription-bottle-alt" style="color:#4154f1;" aria-hidden="true"></i>   التشخيص</a>
                                        </li>

                                        <li>
                                            <a type="button" asp-controller="R_analysis" asp-action="show1" asp-route-id="@item.interviewId" asp-route-id2="@Model.interviewId" class="btn btn-outline-primary col-5">  <i class="fas fa-microscope" style="color:#4154f1;" aria-hidden="true"></i>  الفحوصات  </a>
                                        </li>
                                    </ul>
                                </td>
                            </tr>
                        }

                    </tbody>
                </table>
                <!-- End Table with stripped rows -->

            </div>
        }
        else if (ViewBag.key == false)
        {


            <div class="alert alert-warning alert-dismissible fade show" role="alert">
                <h4 class="alert-heading">رساله من النظام</h4>
                <p>
                    لقد تم ايقاف خدمه السجلات الصحيه عن هاذا النظام
                </p>
                <hr>
                <p class="mb-0">راجع مقدمي السجلات الصحيه</p>
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        }
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">العمليات</h5>
                <!-- List group With Icons -->
                <ul class="list-group">
                    <li class="list-group-item">
                        <button onclick="showInPopup('@Url.Action("Create","R_analysis", new { id = Model.interviewId },Context.Request.Scheme)',' طلب الفحوصات')" class="btn btn-outline-primary col-3 text-dark" style="font-size:16px;">
                            <i class="fas fa-microscope" style="color:#4154f1;" aria-hidden="true"></i> <strong>طلب الفحوصات</strong>
                        </button>
                        <i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>

                        <a type="button" asp-controller="R_analysis" asp-action="show" asp-route-id="@Model.interviewId" class="btn btn-outline-primary text-dark col-3 " style="font-size:17px;">
                            <i class="fa fa-thermometer-quarter" style="color:#4154f1;" aria-hidden="true"></i> <strong> نتائج الفحوصات</strong>
                        </a>
                        <i>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</i>
                        <button onclick="showInPopup('@Url.Action("Create","Prescribtions", new { id = Model.interviewId },Context.Request.Scheme)','التشخيص')" class="btn btn-outline-primary col-3 text-dark" style="font-size:17px;">
                            <i class="fas fa-prescription-bottle-alt" style="color:#4154f1;" aria-hidden="true"></i><strong>  التشخيص </strong>
                        </button>

                    </li>

                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-md-4">
                                <a type="button" asp-controller="interviews" asp-action="show" asp-route-id="@Model.interviewId" class=" btn btn-outline-primary col-10  me-1  text-dark " style=" font-weight: bold;">
                                    <i class="bi bi-record2-fill" style="color:#4154f1;" aria-hidden="true"></i> السجلات الصحية
                                </a>

                            </div>

                            <div class="col-md-2">
                                <button></button>
                            </div>
                            <div class="col-md-2">
                                <button></button>
                            </div>
                            <div class="col-md-1">
                                <button></button>
                            </div>
                            <div class="col-md-3">
                                <form asp-action="Edit1" asp-route-id="@Model.interviewId" method="post">

                                    <button type="submit" class="btn btn-outline-primary text-dark col-12 " style=" font-weight: bold;"><i class="bi bi-eye-fill " style="color:#4154f1;" aria-hidden="true"></i>   تم المعاينة   </button>

                                </form>
                            </div>
                        </div>
                    </li>
                    <li class="list-group-item">

                        <div class="row">
                            <div class="col-md-6">
                                <a type="button" asp-controller="interviews" asp-action="Index" class="btn btn-danger col-5 " style=" font-weight: bold; border-width: 7px 10px;"> الرجوع</a>
                            </div>

                        </div>

                    </li>

                </ul><!-- End List group With Icons -->
                <br />




                <a class="btn-outline-primary col-8 btn-primary1 nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="border: solid #4154f1;
            border-width: 5px 10px; align-items:center;"><i class="si bi-printer"></i> طباعه الفحوصات   </a>

                <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <li>
                        <a onclick="showInPopup1('@Url.Action("InvoiceDrug","interviews", new { id =Model.interviewId },Context.Request.Scheme)',' الوصفه الطبيه')" class="btn btn-outline-primary">  <i class="fas fa-capsules" style="color:#4154f1;" aria-hidden="true"></i> طباعة العلاجات</a>
                    </li>
                    <li>
                        <a onclick="showInPopup1('@Url.Action("InvoiceDiagnosis","interviews", new { id =Model.interviewId },Context.Request.Scheme)',' التشخيص')" class="btn btn-outline-primary">  <i class="fas fa-prescription-bottle-alt" style="color:#4154f1;" aria-hidden="true"></i>  طباعة التشخيص</a>
                    </li>

                    <li>
                        <a type="button" asp-controller="R_analysis" asp-action="show" asp-route-id="@Model.interviewId" class="btn btn-outline-primary">  <i class="fas fa-microscope" style="color:#4154f1;" aria-hidden="true"></i> طلب الفحوصات  </a>
                    </li>
                </ul>

            </div>
        </div>
    </div>
</div>
<style type="text/css">
    /* -------------------------------------
        GLOBAL
        A very basic CSS reset
    ------------------------------------- */
    * {
        margin: 0;
        padding: 0;
        font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
        box-sizing: border-box;
        font-size: 14px;
    }

    img {
        max-width: 100%;
    }

    body {
        -webkit-font-smoothing: antialiased;
        -webkit-text-size-adjust: none;
        width: 100% !important;
        height: 100%;
        line-height: 1.6;
    }

    /* Let's make sure all tables have defaults */
    table td {
        vertical-align: top;
    }

    /* -------------------------------------
        BODY & CONTAINER
    ------------------------------------- */
    body {
        background-color: #f6f6f6;
    }

    .body-wrap {
        background-color: #f6f6f6;
        width: 100%;
    }

    .container {
        display: block !important;
        max-width: 600px !important;
        margin: 0 auto !important;
        /* makes it centered */
        clear: both !important;
    }

    .content {
        max-width: 600px;
        margin: 0 auto;
        display: block;
        padding: 20px;
    }

    /* -------------------------------------
        HEADER, FOOTER, MAIN
    ------------------------------------- */
    .main {
        background: #fff;
        border: 1px solid #e9e9e9;
        border-radius: 3px;
    }

    .content-wrap {
        padding: 20px;
    }

    .content-block {
        padding: 0 0 20px;
    }

    .header {
        width: 100%;
        margin-bottom: 20px;
    }

    .footer {
        width: 100%;
        clear: both;
        color: #999;
        padding: 20px;
    }

        .footer a {
            color: #999;
        }

        .footer p, .footer a, .footer unsubscribe, .footer td {
            font-size: 12px;
        }

    /* -------------------------------------
        TYPOGRAPHY
    ------------------------------------- */
    h1, h2, h3 {
        font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
        color: #000;
        margin: 40px 0 0;
        line-height: 1.2;
        font-weight: 400;
    }

    h1 {
        font-size: 32px;
        font-weight: 500;
    }

    h2 {
        font-size: 24px;
    }

    h3 {
        font-size: 18px;
    }

    h4 {
        font-size: 14px;
        font-weight: 600;
    }

    p, ul, ol {
        margin-bottom: 10px;
        font-weight: normal;
    }

        p li, ul li, ol li {
            margin-left: 5px;
            list-style-position: inside;
        }

    /* -------------------------------------
        LINKS & BUTTONS
    ------------------------------------- */
    a {
        color: #1ab394;
        text-decoration: underline;
    }

    .btn-primary {
        text-decoration: none;
        color: #FFF;
        background-color: #4154f1;
        line-height: 2;
        font-weight: bold;
        text-align: center;
        cursor: pointer;
        display: inline-block;
        border-radius: 3px;
        text-transform: capitalize;
    }

    .btn-primary1 {
        text-decoration: none;
        color: #FFF;
        background-color: #4154f1;
        line-height: 2;
        font-weight: bold;
        text-align: center;
        cursor: pointer;
        display: inline-block;
        border-radius: 3px;
        text-transform: capitalize;
        margin: 0px 100px 0px 0px;
    }
    /* -------------------------------------
        OTHER STYLES THAT MIGHT BE USEFUL
    ------------------------------------- */
    .last {
        margin-bottom: 0;
    }

    .first {
        margin-top: 0;
    }

    .aligncenter {
        text-align: center;
    }

    .alignright {
        text-align: right;
    }

    .alignleft {
        text-align: left;
    }

    .clear {
        clear: both;
    }

    /* -------------------------------------
        ALERTS
        Change the class depending on warning email, good email or bad email
    ------------------------------------- */
    .alert {
        font-size: 16px;
        color: #fff;
        font-weight: 500;
        padding: 20px;
        text-align: center;
        border-radius: 3px 3px 0 0;
    }

        .alert a {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
            font-size: 16px;
        }

        .alert.alert-warning {
            background: #f8ac59;
        }

        .alert.alert-bad {
            background: #ed5565;
        }

        .alert.alert-good {
            background: #1ab394;
        }

    /* -------------------------------------
        INVOICE
        Styles for the billing table
    ------------------------------------- */
    .invoice {
        margin: 40px auto;
        text-align: left;
        width: 80%;
    }

        .invoice td {
            padding: 5px 0;
        }

        .invoice .invoice-items {
            width: 100%;
        }

            .invoice .invoice-items td {
                border-top: #eee 1px solid;
            }

            .invoice .invoice-items .total td {
                border-top: 2px solid #333;
                border-bottom: 2px solid #333;
                font-weight: 700;
            }

    /* -------------------------------------
        RESPONSIVE AND MOBILE FRIENDLY STYLES
    ------------------------------------- */
    @@media only screen and (max-width: 640px) {
        h1, h2, h3, h4 {
            font-weight: 600 !important;
            margin: 20px 0 5px !important;
        }

        h1 {
            font-size: 22px !important;
        }

        h2 {
            font-size: 18px !important;
        }

        h3 {
            font-size: 16px !important;
        }

        .container {
            width: 100% !important;
        }

        .content, .content-wrap {
            padding: 10px !important;
        }

        .invoice {
            width: 100% !important;
        }
    }
</style>

<script type="text/javascript">

</script>

<script>
    $('#myModal').on('shown.bs.modal', function () {
        $('#myInput').trigger('focus')
    })
</script>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
