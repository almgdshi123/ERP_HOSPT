@{
    Layout = null;
}
@using Microsoft.AspNetCore.Http;

<div id="div_print">
    <table class=" table table-bordered border-primary">

        <tbody>
            <tr>
                <td class="col-md-4" dir="ltr">
                    <p> Mawlid Hospiptal</p>
                </td>
                <td class="col-md-4 " align="center">
                    <img src="~/c/assets/img/png-transparentl.png" alt="...">
                </td>

                <td class="col-md-4 " align="right">
                    @Context.Session.GetString("Compan_name")<br />
                    اسم الدكتور :  @ViewBag.Physician.phy_name<br />
                    تاريخ الفحص :  @Model.r_date
                </td>
            </tr>

        </tbody>
    </table>
    <table class="body-wrap">
        <tbody>
            <tr>
                <td></td>
                <td class="container" width="600">
                    <div class="content">
                        <table class="main" width="100%" cellpadding="0" cellspacing="0">
                            <tbody>
                                <tr>
                                    <td align="center"><h5>    Medical Examination الفحص الطبي    </h5></td>

                                </tr>
                                <tr>
                                    @if (Model.trboll == false && Model.State1 == false)
                                    {

                                        <td align="center">
                                            <h5 style="color: #333; ">@ViewBag.Patient.Patientname</h5> في المختبر
                                        </td>
                                    }
                                    @if (Model.trboll == false && Model.State1 == true)
                                    {

                                        <td align="center">
                                            <h5 style="color: #333; ">@ViewBag.Patient.Patientname</h5> قادمه من المختبر
                                        </td>
                                    }
                                    @if (Model.trboll == true)
                                    {

                                        <td align="center">
                                            <h5 style="color: #333;">@ViewBag.Patient.Patientname</h5> سبق الطلع عليها
                                        </td>
                                    }

                                </tr>
                                <tr>
                                    <td class="content-wrap aligncenter">
                                        <table class=" table table-bordered border-primary" width="100%" cellpadding="0" cellspacing="0">
                                            <thead class="table-header">
                                                <tr>

                                                    <th align="right">
                                                        نتيحه الفحص
                                                    </th>

                                                    <th align="right">
                                                        ملاحظة المخبري
                                                    </th>
                                                    <th align="right">
                                                        نوع الفحص
                                                    </th>
                                                </tr>

                                            </thead>
                                            <tbody>


                                                @if (Model.State1 == false)
                                                {


                                                    <tr>
                                                        <td align="right"><h3> @ViewBag.Analysis.a_name ارسال الطلب الى المختبر</h3></td>
                                                    </tr>


                                                }
                                                @if (Model.State1 == true)
                                                {
                                                    <tr>


                                                        <td align="right">@Model.r_result</td>

                                                        @if (Model.r_describe != null)
                                                        {


                                                            <td align="right">@Model.r_describe</td>


                                                        }
                                                        <td align="right">@ViewBag.Analysis.a_name</td>
                                                    </tr>




                                                }


                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>

                    </div>
                </td>
                <td></td>
            </tr>
        </tbody>
    </table>

    <style type="text/css">
        /* -------------------------------------
                GLOBAL
                A very basic CSS reset
            ------------------------------------- */
        * {
            margin: 0;
            padding: 0;
            font-family: "Helvetica Neue", "Helvetica", Helvetica, Arial, sans-serif;
            box-sizing: border-box;
            font-size: 14px;
        }

        img {
            max-width: 70%;
        }

        body {
            -webkit-font-smoothing: antialiased;
            -webkit-text-size-adjust: none;
            width: 100% !important;
            height: 100%;
            line-height: 1.6;
        }

        /* Let's make sure all tables have defaults */
        table td {
            vertical-align: top;
        }

        /* -------------------------------------
                BODY & CONTAINER
            ------------------------------------- */
        body {
            background-color: #fff;
        }

        .body-wrap {
            background-color: #fff;
            width: 100%;
        }

        .container {
            display: block !important;
            max-width: 600px !important;
            margin: 0 auto !important;
            /* makes it centered */
            clear: both !important;
        }

        .content {
            max-width: 600px;
            margin: 0 auto;
            display: block;
            padding: 20px;
        }

        /* -------------------------------------
                HEADER, FOOTER, MAIN
            ------------------------------------- */
        .main {
            background: #fff;
            border: 1px solid #e9e9e9;
            border-radius: 3px;
        }

        .content-wrap {
            padding: 20px;
        }

        .content-block {
            padding: 0 0 20px;
        }

        .header {
            width: 100%;
            margin-bottom: 20px;
        }

        .footer {
            width: 100%;
            clear: both;
            color: #999;
            padding: 20px;
        }

            .footer a {
                color: #999;
            }

            .footer p, .footer a, .footer unsubscribe, .footer td {
                font-size: 12px;
            }

        /* -------------------------------------
                TYPOGRAPHY
            ------------------------------------- */
        h1, h2, h3 {
            font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
            color: #000;
            margin: 40px 0 0;
            line-height: 1.2;
            font-weight: 400;
        }

        h1 {
            font-size: 32px;
            font-weight: 500;
        }

        h2 {
            font-size: 24px;
        }

        h3 {
            font-size: 18px;
        }

        h4 {
            font-size: 14px;
            font-weight: 600;
        }

        p, ul, ol {
            margin-bottom: 10px;
            font-weight: normal;
        }

            p li, ul li, ol li {
                margin-left: 5px;
                list-style-position: inside;
            }

        /* -------------------------------------
                LINKS & BUTTONS
            ------------------------------------- */
        a {
            color: #1ab394;
            text-decoration: underline;
        }

        .btn-primary {
            text-decoration: none;
            color: #FFF;
            line-height: 2;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            display: inline-block;
            border-radius: 5px;
            text-transform: capitalize;
        }

        /* -------------------------------------
                OTHER STYLES THAT MIGHT BE USEFUL
            ------------------------------------- */
        .last {
            margin-bottom: 0;
        }

        .first {
            margin-top: 0;
        }

        .aligncenter {
            text-align: center;
        }

        .alignright {
            text-align: right;
        }

        .alignleft {
            text-align: left;
        }

        .clear {
            clear: both;
        }

        /* -------------------------------------
                ALERTS
                Change the class depending on warning email, good email or bad email
            ------------------------------------- */
        .alert {
            font-size: 16px;
            color: #fff;
            font-weight: 500;
            padding: 20px;
            text-align: center;
            border-radius: 3px 3px 0 0;
        }

            .alert a {
                color: #fff;
                text-decoration: none;
                font-weight: 500;
                font-size: 16px;
            }

            .alert.alert-warning {
                background: #f8ac59;
            }

            .alert.alert-bad {
                background: #ed5565;
            }

            .alert.alert-good {
                background: #1ab394;
            }

        /* -------------------------------------
                INVOICE
                Styles for the billing table
            ------------------------------------- */
        .invoice {
            margin: 40px auto;
            text-align: right;
            width: 80%;
        }

            .invoice td {
                padding: 5px 0;
            }

            .invoice .invoice-items {
                width: 100%;
            }

                .invoice .invoice-items td {
                    border-top: #eee 1px solid;
                }

                .invoice .invoice-items .total td {
                    border-top: 2px solid #333;
                    border-bottom: 2px solid #333;
                    font-weight: 700;
                }

        /* -------------------------------------
                RESPONSIVE AND MOBILE FRIENDLY STYLES
            ------------------------------------- */
        @@media only screen and (max-width: 640px) {
            h1, h2, h3, h4 {
                font-weight: 600 !important;
                margin: 20px 0 5px !important;
            }

            h1 {
                font-size: 22px !important;
            }

            h2 {
                font-size: 18px !important;
            }

            h3 {
                font-size: 16px !important;
            }

            .container {
                width: 100% !important;
            }

            .content, .content-wrap {
                padding: 10px !important;
            }

            .invoice {
                width: 100% !important;
            }
        }
    </style>

    <script type="text/javascript">

    </script>
    <div id="copyright" hidden>
        <div class="copyright" align="center">
            <br /><br /><br />
            @UserManager.GetUserName(User)  <strong>: طباع بوسطة   &copy; <span></span><br></strong> @DateTime.Now.ToString()
        </div>
    </div>
</div>


<div class="row">
    <div class="col-md-6">
        <a href="javascript:;" onclick="printdiv('div_print');" class="btn btn-sm btn-secondary col-7" style=" font-weight: bold; border: solid #6c757d;
            border-width: 7px 12px;"><i class=" bi-printer"></i> طباعه</a>

    </div>
    <div class="col-md-6">


        @if (Model.trboll == false && Model.State1 == true)
        {
            <form asp-action="Invoice" asp-route-id="@Model.R_analysisId" method="post">

                <button type="submit" class="btn btn-outline-secondary  col-7 ri-archive-fill">تم المشاهده</button>

            </form>}

    </div>


</div>














@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager


<script language="javascript">
    function printdiv(printpage) {

        ////var headstr = "<html><head><title></title></head><body>";
        ////var footstr = "</body>";
        ////var newstr = document.all.item(printpage).innerHTML;
        ////var oldstr = document.body.innerHTML;
        ////document.body.innerHTML = headstr + newstr + footstr;
        ////window.print();
        ////document.body.innerHTML = oldstr;
        var mywindow = window.open('vvvvvvvvvvv', 'PRINT', "ggggg");

        mywindow.document.write('</head><body >');

        mywindow.document.write(document.getElementById(printpage).innerHTML);
        mywindow.document.write(document.getElementById("copyright").innerHTML);

        mywindow.document.close(); // necessary for IE >= 10
        mywindow.focus(); // necessary for IE >= 10*/

        mywindow.print();
        mywindow.close();
        return false;
    }
</script>
